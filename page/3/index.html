<!doctype html>
<html class="theme-next   use-motion ">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>



<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />












  <link href="/vendors/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css"/>




  
    <link href='//fonts.lug.ustc.edu.cn/css?family=Lato:300,400,700,400italic&subset=latin,latin-ext' rel='stylesheet' type='text/css'>
  



<link href="/vendors/font-awesome/css/font-awesome.min.css?v=4.4.0" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=0.4.5.2" rel="stylesheet" type="text/css" />


  <meta name="keywords" content="Hexo, NexT" />








  <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico?v=0.4.5.2" />






<meta name="description" content="Jayi&apos;s blog | iOS | java">
<meta property="og:type" content="website">
<meta property="og:title" content="Jayi">
<meta property="og:url" content="http://jayi.github.io/page/3/index.html">
<meta property="og:site_name" content="Jayi">
<meta property="og:description" content="Jayi&apos;s blog | iOS | java">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Jayi">
<meta name="twitter:description" content="Jayi&apos;s blog | iOS | java">



<script type="text/javascript" id="hexo.configuration">
  var CONFIG = {
    scheme: '',
    sidebar: 'post',
    motion: true
  };
</script>

  <title> Jayi </title>
</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  <!--[if lte IE 8]>
  <div style=' clear: both; height: 59px; padding:0 0 0 15px; position: relative;margin:0 auto;'>
    <a href="http://windows.microsoft.com/en-US/internet-explorer/products/ie/home?ocid=ie6_countdown_bannercode">
      <img src="http://7u2nvr.com1.z0.glb.clouddn.com/picouterie.jpg" border="0" height="42" width="820"
           alt="You are using an outdated browser. For a faster, safer browsing experience, upgrade for free today or use other browser ,like chrome firefox safari."
           style='margin-left:auto;margin-right:auto;display: block;'/>
    </a>
  </div>
<![endif]-->
  






  <div class="container one-column 
   page-home 
">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-meta ">
  

  <div class="custom-logo-site-title">
    <a href="/"  class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <span class="site-title">Jayi</span>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>
  <p class="site-subtitle"></p>
</div>

<div class="site-nav-toggle">
  <button>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
  </button>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu ">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-home fa-fw"></i> <br />
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories" rel="section">
            
              <i class="menu-item-icon fa fa-th fa-fw"></i> <br />
            
            分类
          </a>
        </li>
      
        
        <li class="menu-item menu-item-about">
          <a href="/about" rel="section">
            
              <i class="menu-item-icon fa fa-user fa-fw"></i> <br />
            
            关于
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives" rel="section">
            
              <i class="menu-item-icon fa fa-archive fa-fw"></i> <br />
            
            归档
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags" rel="section">
            
              <i class="menu-item-icon fa fa-tags fa-fw"></i> <br />
            
            标签
          </a>
        </li>
      

      
      
    </ul>
  

  
</nav>

 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div id="content" class="content">
          
  <section id="posts" class="posts-expand">

    

    
    
      
      

      
    

    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2015/11/11/iOS 摘要/" itemprop="url">
                  iOS 摘要
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            发表于
            <time itemprop="dateCreated" datetime="2015-11-11T16:44:59+08:00" content="2015-11-11">
              2015-11-11
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp; 分类于
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/study/" itemprop="url" rel="index">
                    <span itemprop="name">study</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2015/11/11/iOS 摘要/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2015/11/11/iOS 摘要/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

        </div>
      </header>
    


    <div class="post-body">

      
      

      
        
          <span itemprop="articleBody">
            
              <h1 id="UIKit">UIKit</h1><ul>
<li><p>调整UILabel的行间距</p>
  <figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">NSMutableParagraphStyle</span> *paragraphStyle = [[<span class="built_in">NSMutableParagraphStyle</span> alloc] init];      </span><br><span class="line"><span class="built_in">NSMutableAttributedString</span> *attributedString = [[<span class="built_in">NSMutableAttributedString</span> alloc]initWithString:_placeHolderLable<span class="variable">.text</span>];    </span><br><span class="line"></span><br><span class="line">[paragraphStyle setLineSpacing:<span class="number">20</span>]; <span class="comment">// 调整行间距   </span></span><br><span class="line"></span><br><span class="line">[attributedString addAttribute:<span class="built_in">NSParagraphStyleAttributeName</span> value:paragraphStyle range:<span class="built_in">NSMakeRange</span>(<span class="number">0</span>, [_placeHolderLable<span class="variable">.text</span> length])];   </span><br><span class="line">_placeHolderLable<span class="variable">.attributedText</span> = attributedString;    </span><br><span class="line">[<span class="keyword">self</span><span class="variable">.textView</span> addSubview:_placeHolderLable];   </span><br><span class="line">[_placeHolderLable sizeToFit];</span><br></pre></td></tr></table></figure>
</li>
<li><p>隐藏状态栏</p>
  <figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[[<span class="built_in">UIApplication</span> shareApplication] setStatusBarHidden: <span class="literal">YES</span> animated:<span class="literal">NO</span>];</span><br></pre></td></tr></table></figure>
</li>
<li><p>圆角按钮</p>
  <figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">UIButton</span> *scaleUpButton = [<span class="built_in">UIButton</span> buttonWithType:<span class="built_in">UIButtonTypeRoundedRect</span>];</span><br></pre></td></tr></table></figure>
</li>
<li><p>取消UITableView分割线左边的15像素</p>
  <figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">- (<span class="keyword">void</span>)tableView:(<span class="built_in">UITableView</span> *)tableView willDisplayCell:(<span class="built_in">UITableViewCell</span> *)cell forRowAtIndexPath:(<span class="built_in">NSIndexPath</span> *)indexPath</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">if</span> ([cell respondsToSelector:<span class="keyword">@selector</span>(setSeparatorInset:)]) &#123;</span><br><span class="line">        [cell setSeparatorInset:<span class="built_in">UIEdgeInsetsZero</span>];</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> ([cell respondsToSelector:<span class="keyword">@selector</span>(setLayoutMargins:)]) &#123;</span><br><span class="line">        [cell setLayoutMargins:<span class="built_in">UIEdgeInsetsZero</span>];</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 并且 在ViewDidLoad里面调用下面方法即可  此种去间距操作仅适用与iOS8 以上 iOS7 只需设置setSeparatorInset:UIEdgeInsetsZero 就能将空白去掉</span></span><br><span class="line"></span><br><span class="line">-(<span class="keyword">void</span>)cancelMarginsForTableView</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">if</span> ([<span class="keyword">self</span><span class="variable">.menageTable</span> respondsToSelector:<span class="keyword">@selector</span>(setSeparatorInset:)]) &#123;</span><br><span class="line">        [<span class="keyword">self</span><span class="variable">.menageTable</span> setSeparatorInset:<span class="built_in">UIEdgeInsetsZero</span>];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> ([<span class="keyword">self</span><span class="variable">.menageTable</span> respondsToSelector:<span class="keyword">@selector</span>(setLayoutMargins:)]) &#123;</span><br><span class="line">        [<span class="keyword">self</span><span class="variable">.menageTable</span> setLayoutMargins:<span class="built_in">UIEdgeInsetsZero</span>];</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>新增IB辅助线</p>
<ul>
<li>选中某个需要作为参照物的控件</li>
<li>点击菜单栏 Editor -&gt; Guides -&gt; Add vertical guides （或者 Add Horizonal guides）。</li>
</ul>
</li>
<li><p>代码定义constraints时，需要设置translatesAutoresizingMaskIntoConstraints为YES。</p>
  <figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">-setTranslatesAutoresizingMaskIntoConstraints:</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h2 id="UIImage">UIImage</h2><ul>
<li><p>UIView 生成 UIImage</p>
  <figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">- (<span class="built_in">UIImage</span> *)imageFromView: (<span class="built_in">UIView</span> *) theView</span><br><span class="line">&#123;</span><br><span class="line">   <span class="built_in">UIGraphicsBeginImageContext</span>(theView<span class="variable">.frame</span><span class="variable">.size</span>);</span><br><span class="line">    <span class="built_in">CGContextRef</span> context = <span class="built_in">UIGraphicsGetCurrentContext</span>();</span><br><span class="line">    [theView<span class="variable">.layer</span> renderInContext:context];</span><br><span class="line">    <span class="built_in">UIImage</span> *theImage = <span class="built_in">UIGraphicsGetImageFromCurrentImageContext</span>();</span><br><span class="line">    <span class="built_in">UIGraphicsEndImageContext</span>();</span><br><span class="line">   <span class="keyword">return</span> theImage;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>从文件获取图片</p>
  <figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">NSString</span> *thumbnailFile = [<span class="built_in">NSString</span> stringWithFormat:<span class="string">@"%@/%@.png"</span>, [[<span class="built_in">NSBundle</span> mainBundle] resourcePath], fileName];</span><br><span class="line"><span class="built_in">UIImage</span> *thumbnail = [<span class="built_in">UIImage</span> imageWithContentsOfFile:thumbnailFile];</span><br><span class="line"><span class="built_in">UIImage</span> *image = [[<span class="built_in">UIImage</span> alloc] initWithContentsOfFile:filePath];</span><br></pre></td></tr></table></figure>
</li>
</ul>
<ul>
<li><p>生成纯色图</p>
 <figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">CGSize</span> imageSize = <span class="built_in">CGSizeMake</span>(<span class="number">100</span>, <span class="number">100</span>);  </span><br><span class="line"><span class="built_in">UIGraphicsBeginImageContextWithOptions</span>(imageSize, <span class="number">0</span>, [<span class="built_in">UIScreen</span> mainScreen]<span class="variable">.scale</span>);  </span><br><span class="line">[[<span class="built_in">UIColor</span> colorWithRed:<span class="number">0</span> green:<span class="number">0</span> blue:<span class="number">0</span> alpha:<span class="number">1.0</span>] set];  </span><br><span class="line"><span class="built_in">UIRectFill</span>(<span class="built_in">CGRectMake</span>(<span class="number">0</span>, <span class="number">0</span>, imageSize<span class="variable">.width</span>, imageSize<span class="variable">.height</span>));  </span><br><span class="line"><span class="built_in">UIImage</span> *pressedColorImg = <span class="built_in">UIGraphicsGetImageFromCurrentImageContext</span>();  </span><br><span class="line"><span class="built_in">UIGraphicsEndImageContext</span>();</span><br></pre></td></tr></table></figure>
</li>
<li><p>图片合成</p>
  <figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">- (<span class="built_in">UIImage</span> *)addImage:(<span class="built_in">UIImage</span> *)image1 toImage:(<span class="built_in">UIImage</span> *)image2 &#123;  </span><br><span class="line">    <span class="built_in">UIGraphicsBeginImageContext</span>(image1<span class="variable">.size</span>);  </span><br><span class="line">    [image1 drawInRect:<span class="built_in">CGRectMake</span>(<span class="number">0</span>, <span class="number">0</span>, image1<span class="variable">.size</span><span class="variable">.width</span>, image1<span class="variable">.size</span><span class="variable">.height</span>)];  </span><br><span class="line">    [image2 drawInRect:<span class="built_in">CGRectMake</span>(<span class="number">0</span>, <span class="number">0</span>, image2<span class="variable">.size</span><span class="variable">.width</span>, image2<span class="variable">.size</span><span class="variable">.height</span>)];  </span><br><span class="line">    <span class="built_in">UIImage</span> *resultingImage = <span class="built_in">UIGraphicsGetImageFromCurrentImageContext</span>();  </span><br><span class="line">    <span class="built_in">UIGraphicsEndImageContext</span>();  </span><br><span class="line">    <span class="keyword">return</span> resultingImage;  </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>截取部分UIImage</p>
  <figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">-(<span class="built_in">UIImage</span> *)clipImageFromImage:(<span class="built_in">UIImage</span> *)orgImage  Rect:(<span class="built_in">CGRect</span>)clipRect&#123;  </span><br><span class="line">    <span class="built_in">CGImageRef</span> imageRef = orgImage<span class="variable">.CGImage</span>;  </span><br><span class="line">    <span class="built_in">CGImageRef</span> subImageRef = <span class="built_in">CGImageCreateWithImageInRect</span>(imageRef, clipRect);  </span><br><span class="line">    <span class="built_in">CGSize</span> size;  </span><br><span class="line">    size = clipRect<span class="variable">.size</span>;  </span><br><span class="line">    <span class="built_in">UIGraphicsBeginImageContext</span>(size);  </span><br><span class="line">    <span class="built_in">CGContextRef</span> context = <span class="built_in">UIGraphicsGetCurrentContext</span>();  </span><br><span class="line">    <span class="built_in">CGContextDrawImage</span>(context, clipRect, subImageRef);  </span><br><span class="line">    <span class="built_in">UIImage</span>* clipImage = [<span class="built_in">UIImage</span> imageWith<span class="built_in">CGImage</span>:subImageRef];  </span><br><span class="line">    <span class="built_in">CGImageRelease</span>(subImageRef);  </span><br><span class="line">    <span class="built_in">UIGraphicsEndImageContext</span>();  </span><br><span class="line">    <span class="keyword">return</span> clipImage;  </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ul>
<ul>
<li><p>图片模糊处理<br>  <em>注意:此方法需要导入 CoreImage的framework</em></p>
  <figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="preprocessor">#import <span class="title">&lt;CoreImage/CoreImage.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 图片模糊化处理  边缘模糊</span></span><br><span class="line">- (<span class="built_in">UIImage</span>*) blur:(<span class="built_in">UIImage</span>*)theImage&#123;</span><br><span class="line">    <span class="built_in">CIContext</span> *context = [<span class="built_in">CIContext</span> contextWithOptions:<span class="literal">nil</span>];</span><br><span class="line">    <span class="built_in">CIImage</span> *inputImage = [<span class="built_in">CIImage</span> imageWith<span class="built_in">CGImage</span>:theImage<span class="variable">.CGImage</span>];</span><br><span class="line">    <span class="built_in">CIFilter</span> *blurFilter = [<span class="built_in">CIFilter</span> filterWithName:<span class="string">@"CIGaussianBlur"</span>];</span><br><span class="line">    [blurFilter setValue:inputImage forKey:k<span class="built_in">CIInputImageKey</span>];</span><br><span class="line">    [blurFilter setValue:[<span class="built_in">NSNumber</span> numberWithFloat:<span class="number">10.0</span>f] forKey:<span class="string">@"inputRadius"</span>];    <span class="built_in">CIImage</span> *result = [blurFilter valueForKey:k<span class="built_in">CIOutputImageKey</span>];    <span class="built_in">CGImageRef</span> cgImage = [context create<span class="built_in">CGImage</span>:result fromRect:[inputImage extent]];    <span class="built_in">UIImage</span> *returnImage = [<span class="built_in">UIImage</span> imageWith<span class="built_in">CGImage</span>:cgImage];    <span class="built_in">CGImageRelease</span>(cgImage);</span><br><span class="line">    <span class="keyword">return</span> returnImage;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 全部模糊</span></span><br><span class="line">- (<span class="built_in">UIImage</span>*) blur:(<span class="built_in">UIImage</span>*)theImage</span><br><span class="line">&#123;</span><br><span class="line">    <span class="built_in">CIContext</span> *context = [<span class="built_in">CIContext</span> contextWithOptions:<span class="literal">nil</span>];</span><br><span class="line">    <span class="built_in">CIImage</span> *inputImage = [<span class="built_in">CIImage</span> imageWith<span class="built_in">CGImage</span>:theImage<span class="variable">.CGImage</span>];</span><br><span class="line">    <span class="built_in">CIFilter</span> *affineClampFilter = [<span class="built_in">CIFilter</span> filterWithName:<span class="string">@"CIAffineClamp"</span>];</span><br><span class="line">    <span class="built_in">CGAffineTransform</span> xform = <span class="built_in">CGAffineTransformMakeScale</span>(<span class="number">1.0</span>, <span class="number">1.0</span>);</span><br><span class="line">    [affineClampFilter setValue:inputImage forKey:k<span class="built_in">CIInputImageKey</span>];</span><br><span class="line">    [affineClampFilter setValue:[<span class="built_in">NSValue</span> valueWithBytes:&amp;xform                                               objCType:@encode(<span class="built_in">CGAffineTransform</span>)]                         forKey:<span class="string">@"inputTransform"</span>];</span><br><span class="line">    <span class="built_in">CIImage</span> *extendedImage = [affineClampFilter valueForKey:k<span class="built_in">CIOutputImageKey</span>];</span><br><span class="line">    <span class="built_in">CIFilter</span> *blurFilter = [<span class="built_in">CIFilter</span> filterWithName:<span class="string">@"CIGaussianBlur"</span>];</span><br><span class="line">    [blurFilter setValue:extendedImage forKey:k<span class="built_in">CIInputImageKey</span>];</span><br><span class="line">    [blurFilter setValue:[<span class="built_in">NSNumber</span> numberWithFloat:<span class="number">20.0</span>] forKey:<span class="string">@"inputRadius"</span>];</span><br><span class="line">    <span class="built_in">CIImage</span> *result = [blurFilter valueForKey:k<span class="built_in">CIOutputImageKey</span>];</span><br><span class="line">    <span class="built_in">CGImageRef</span> cgImage = [context create<span class="built_in">CGImage</span>:result fromRect:[inputImage extent]];</span><br><span class="line">    <span class="built_in">UIImage</span> *returnImage = [<span class="built_in">UIImage</span> imageWith<span class="built_in">CGImage</span>:cgImage];</span><br><span class="line">    <span class="built_in">CGImageRelease</span>(cgImage);  <span class="comment">// 一定要释放 凡是调用C语言的库实例化的对象 到最后都需要手动进行释放,否则会有内存问题  即便是ARC模式下</span></span><br><span class="line">    <span class="keyword">return</span> returnImage;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h2 id="UIWebview">UIWebview</h2><ul>
<li><p>UIWebview打开doc,pdf文件</p>
  <figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">UIWebView</span> *webView = [[<span class="built_in">UIWebView</span> alloc]initWithFrame:<span class="built_in">CGRectMake</span>(<span class="number">0</span>, <span class="number">55</span>, <span class="number">320</span>, <span class="number">300</span>)];</span><br><span class="line">webView<span class="variable">.delegate</span> = <span class="keyword">self</span>;</span><br><span class="line">webView<span class="variable">.multipleTouchEnabled</span> = <span class="literal">YES</span>;</span><br><span class="line">webView<span class="variable">.scalesPageToFit</span> = <span class="literal">YES</span>;</span><br><span class="line"><span class="built_in">NSArray</span> *paths = <span class="built_in">NSSearchPathForDirectoriesInDomains</span>(<span class="built_in">NSDocumentDirectory</span>, <span class="built_in">NSUserDomainMask</span>, <span class="literal">YES</span>);</span><br><span class="line"><span class="built_in">NSString</span> *documentsDirectory = [paths objectAtIndex:<span class="number">0</span>];</span><br><span class="line"><span class="built_in">NSString</span> *docPath = [documentsDirectory stringByAppendingString:<span class="string">@"/doc2003_1.doc"</span>];    </span><br><span class="line"><span class="built_in">NSLog</span>(<span class="string">@"#######%@"</span>,docPath);</span><br><span class="line"><span class="built_in">NSURL</span> *url = [<span class="built_in">NSURL</span> fileURLWithPath:docPath];</span><br><span class="line"><span class="built_in">NSURLRequest</span> *request = [<span class="built_in">NSURLRequest</span> requestWithURL:url];</span><br><span class="line">[webView loadRequest:request];</span><br><span class="line">[<span class="keyword">self</span><span class="variable">.view</span> addSubview:webView];</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h2 id="调用系统API">调用系统API</h2><ul>
<li><p>拨打电话</p>
  <figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">- (<span class="keyword">IBAction</span>)onClickCallPhone:(<span class="keyword">id</span>)sender &#123;    </span><br><span class="line">     <span class="built_in">NSString</span> *url = [<span class="built_in">NSString</span> stringWithFormat:<span class="string">@"telprompt://%@"</span>,<span class="keyword">self</span><span class="variable">.phoneNumField</span><span class="variable">.text</span>];   </span><br><span class="line">     [<span class="keyword">self</span> openUrl:url];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>发送短信</p>
  <figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">- (<span class="keyword">IBAction</span>)onClickSendMsg:(<span class="keyword">id</span>)sender &#123;  </span><br><span class="line">      <span class="built_in">NSString</span> *url = [<span class="built_in">NSString</span> stringWithFormat:<span class="string">@"sms://%@"</span>,<span class="keyword">self</span><span class="variable">.phoneNumField</span><span class="variable">.text</span>];   </span><br><span class="line">     [<span class="keyword">self</span> openUrl:url];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ul>
<ul>
<li><p>发送邮件</p>
  <figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">- (<span class="keyword">IBAction</span>)onClickEmail:(<span class="keyword">id</span>)sender &#123;    </span><br><span class="line">    <span class="built_in">NSString</span> *url = [<span class="built_in">NSString</span> stringWithFormat:<span class="string">@"mailto://%@"</span>,<span class="keyword">self</span><span class="variable">.phoneNumField</span><span class="variable">.text</span>];   </span><br><span class="line">   [<span class="keyword">self</span> openUrl:url];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>浏览网页</p>
  <figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">- (<span class="keyword">IBAction</span>)onClickBrowser:(<span class="keyword">id</span>)sender &#123;  </span><br><span class="line">    <span class="built_in">NSString</span> *url = <span class="string">@"http://www.baidu.com"</span>;   </span><br><span class="line">    [<span class="keyword">self</span> openUrl:url];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">-(<span class="keyword">void</span>)openUrl:(<span class="built_in">NSString</span> *)urlStr&#123;  </span><br><span class="line">    <span class="comment">// 注意url中包含协议名称，iOS根据协议确定调用哪个应用，例如发送邮件是“sms://”其中“//”可以省略写成“sms:”(其他协议也是如此)    </span></span><br><span class="line">    <span class="built_in">NSURL</span> *url = [<span class="built_in">NSURL</span> URLWithString:urlStr];    </span><br><span class="line">    <span class="built_in">UIApplication</span> *application = [<span class="built_in">UIApplication</span> sharedApplication];    </span><br><span class="line">    <span class="keyword">if</span> (![application canOpenURL:url]) &#123;        </span><br><span class="line">        <span class="built_in">UIAlertView</span> *alert = [[<span class="built_in">UIAlertView</span> alloc]initWithTitle:<span class="literal">nil</span> message:<span class="string">@"无法打开"</span> delegate:<span class="keyword">self</span> cancelButtonTitle:<span class="string">@"返回"</span> otherButtonTitles:<span class="literal">nil</span>];       </span><br><span class="line">        [alert show];     </span><br><span class="line">        <span class="keyword">return</span>;    </span><br><span class="line">    &#125;    </span><br><span class="line">    [[<span class="built_in">UIApplication</span> sharedApplication]openURL:url];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h1 id="Foundation">Foundation</h1><ul>
<li><p>NSDate NSString 互转</p>
  <figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// NSDate -&gt; NSString</span></span><br><span class="line">+ (<span class="built_in">NSString</span> *)stringFromDate:(<span class="built_in">NSDate</span> *)date &#123;</span><br><span class="line">    <span class="comment">// [NSDateFormatter new]效率较低，如果调用次数很多，应使用一个静态实例</span></span><br><span class="line">    <span class="built_in">NSDateFormatter</span> *formatter = [<span class="built_in">NSDateFormatter</span> new];</span><br><span class="line">    [formatter setDateFormat:<span class="string">@"yyyy-MM-dd HH:mm:ss.SSS"</span>];</span><br><span class="line">    <span class="built_in">NSString</span> *strDate = [formatter stringFromDate:date];</span><br><span class="line">    <span class="keyword">return</span> strDate;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// NSString -&gt; NSDate</span></span><br><span class="line">+ (<span class="built_in">NSDate</span> *)dateFromString:(<span class="built_in">NSString</span> *)string &#123;</span><br><span class="line">    <span class="built_in">NSDateFormatter</span> *formatter = [<span class="built_in">NSDateFormatter</span> new];</span><br><span class="line">    [formatter setDateFormat:<span class="string">@"yyyy-MM-dd HH:mm:ss.SSS"</span>];</span><br><span class="line">    <span class="built_in">NSDate</span> *date = [formatter dateFromString:string];</span><br><span class="line">    <span class="keyword">return</span> date;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>给文字添加下划线</p>
  <figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span><br><span class="line"> *  给文字添加下划线</span><br><span class="line"> *  @param aString 要添加下划线的字符串</span><br><span class="line"> *  @return 属性字符串</span><br><span class="line"> */</span></span><br><span class="line">-(<span class="built_in">NSAttributedString</span> *)addUnderLineForLabel:(<span class="built_in">NSString</span> *)aString</span><br><span class="line">&#123;</span><br><span class="line">    <span class="built_in">NSMutableAttributedString</span> *content = [[<span class="built_in">NSMutableAttributedString</span> alloc] initWithString:aString];</span><br><span class="line">    <span class="built_in">NSRange</span> contentRange = &#123;<span class="number">0</span>, [content length]&#125;;</span><br><span class="line">    [content addAttribute:<span class="built_in">NSUnderlineStyleAttributeName</span> value:[<span class="built_in">NSNumber</span> numberWithInteger:<span class="built_in">NSUnderlineStyleSingle</span>] range:contentRange];</span><br><span class="line">    [content</span><br><span class="line">     addAttribute:<span class="built_in">NSUnderlineColorAttributeName</span> value:[<span class="built_in">UIColor</span> blueColor] range:contentRange];</span><br><span class="line">    <span class="keyword">return</span> content;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h1 id="其它">其它</h1><ul>
<li><p>把CGRect结构转变为格式化字符串</p>
  <figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">NSStringFromCGRect</span>(someCG);</span><br></pre></td></tr></table></figure>
</li>
<li><p>由字符串恢复出矩形</p>
  <figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">CGRectFromString</span>(aString)</span><br></pre></td></tr></table></figure>
</li>
<li><p>读取plist文件并转化为NSDictionary</p>
  <figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">NSString</span> *documentsPath = [<span class="keyword">self</span> getDocumentsDirectory];</span><br><span class="line"><span class="built_in">NSString</span> *fullPath = [documentsPath stringByAppendingPathComponent:<span class="string">@"save.plist"</span>];</span><br><span class="line"><span class="built_in">NSMutableDictionary</span>* plistDict = [[<span class="built_in">NSMutableDictionary</span> alloc] initWithContentsOfFile:fullPath];</span><br></pre></td></tr></table></figure>
</li>
<li><p>播放音效</p>
  <figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">NSString</span> *musicFilePath = [[<span class="built_in">NSBundle</span> mainBundle] pathForResource:fileName ofType:<span class="string">@"wav"</span>];       <span class="comment">// 创建音乐文件路径</span></span><br><span class="line"><span class="built_in">NSURL</span> *musicURL = [[<span class="built_in">NSURL</span> alloc] initFileURLWithPath:musicFilePath]; </span><br><span class="line"><span class="built_in">AVAudioPlayer</span>* musicPlayer = [[<span class="built_in">AVAudioPlayer</span> alloc] initWithContentsOfURL:musicURL error:<span class="literal">nil</span>];</span><br><span class="line">[musicPlayer prepareToPlay];</span><br><span class="line">[musicPlayer setVolume:<span class="number">1</span>];          <span class="comment">// 设置音量大小</span></span><br><span class="line">musicPlayer <span class="variable">.numberOfLoops</span> = -<span class="number">1</span>;    <span class="comment">// 设置音乐播放次数  -1为一直循环</span></span><br></pre></td></tr></table></figure>
</li>
</ul>
<h1 id="iOS_开发路线">iOS 开发路线</h1><p><img src="https://leanote.com/api/file/getImage?fileId=56a81da4ab64417926002a92" alt="iOS 开发路线"></p>

            
          </span>
        
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    

  </section>

  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/page/2/"><i class="fa fa-angle-left"></i></a><a class="page-number" href="/">1</a><a class="page-number" href="/page/2/">2</a><span class="page-number current">3</span>
  </nav>



        </div>

        


        

      </div>

      
        
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      

      

      <section class="site-overview sidebar-panel  sidebar-panel-active ">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <img class="site-author-image" src="/images/default_avatar.jpg" alt="Jayi" itemprop="image"/>
          <p class="site-author-name" itemprop="name">Jayi</p>
        </div>
        <p class="site-description motion-element" itemprop="description">Jayi's blog | iOS | java</p>
        <nav class="site-state motion-element">
          <div class="site-state-item site-state-posts">
            <a href="/archives">
              <span class="site-state-item-count">21</span>
              <span class="site-state-item-name">日志</span>
            </a>
          </div>

          <div class="site-state-item site-state-categories">
            <a href="/categories">
              <span class="site-state-item-count">3</span>
              <span class="site-state-item-name">分类</span>
              </a>
          </div>

          <div class="site-state-item site-state-tags">
            <a href="/tags">
              <span class="site-state-item-count">5</span>
              <span class="site-state-item-name">标签</span>
              </a>
          </div>

        </nav>

        

        <div class="links-of-author motion-element">
          
        </div>

        
        

        <div class="links-of-author motion-element">
          
        </div>

      </section>

      

    </div>
  </aside>


      
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright" >
  
  &copy;  2015 - 
  <span itemprop="copyrightYear">2016</span>
  <span class="with-love">
    <i class="icon-next-heart fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Jayi</span>
</div>

<div class="powered-by">
  由 <a class="theme-link" href="http://hexo.io">Hexo</a> 强力驱动
</div>

<div class="theme-info">
  主题 -
  <a class="theme-link" href="https://github.com/iissnan/hexo-theme-next">
    NexT
  </a>
</div>



      </div>
    </footer>

    <div class="back-to-top"></div>
  </div>

  <script type="text/javascript" src="/vendors/jquery/index.js?v=2.1.3"></script>

  
  

  
    

  
    
  

  <script type="text/javascript">
    var duoshuoQuery = {short_name:"jayiist"};
    (function() {
      var ds = document.createElement('script');
      ds.type = 'text/javascript';ds.async = true;
      ds.id = 'duoshuo-script';
      ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';
      ds.charset = 'UTF-8';
      (document.getElementsByTagName('head')[0]
      || document.getElementsByTagName('body')[0]).appendChild(ds);
    })();
  </script>
    
     


    
  

  
  <script type="text/javascript" src="/vendors/fancybox/source/jquery.fancybox.pack.js"></script>
  <script type="text/javascript" src="/js/fancy-box.js?v=0.4.5.2"></script>


  <script type="text/javascript" src="/js/helpers.js?v=0.4.5.2"></script>
  <script type="text/javascript" src="/vendors/velocity/velocity.min.js"></script>
<script type="text/javascript" src="/vendors/velocity/velocity.ui.min.js"></script>

<script type="text/javascript" src="/js/motion.js?v=0.4.5.2" id="motion.global"></script>


  <script type="text/javascript" src="/vendors/fastclick/lib/fastclick.min.js?v=1.0.6"></script>
  <script type="text/javascript" src="/vendors/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>

  

  <script type="text/javascript" src="/js/bootstrap.js"></script>

  
  

  
  

</body>
</html>
