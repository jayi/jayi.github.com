<!DOCTYPE HTML>
<html>
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="chrome=1">
  
  <title>Jayi</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
  
    <meta name="author" content="Jayi">
  
  
  <meta name="description" content="Jayi&apos;s blog | iOS | python">
<meta property="og:type" content="website">
<meta property="og:title" content="Jayi">
<meta property="og:url" content="http://jayi.github.com/index.html">
<meta property="og:site_name" content="Jayi">
<meta property="og:description" content="Jayi&apos;s blog | iOS | python">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Jayi">
<meta name="twitter:description" content="Jayi&apos;s blog | iOS | python">
  
  
    <link rel="icon" type="image/x-icon" href="/favicon.ico">
  
  <link rel="stylesheet" href="/css/style.css" type="text/css">
  <!--[if lt IE 9]><script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->
  
</head>

<body>
  <div class="wrapper">
    <header id="header">
  <div class="title">
    <h1><a href="/">Jayi</a></h1>
    <p><a href="/"></a></p>
  </div>
  <nav class="nav">
    <ul>
      
        <li><a href="/">Home</a></li>
      
        <li><a href="/archives">Archives</a></li>
      
      
    </ul>
    <div class="clearfix"></div>
  </nav>
  <div class="clearfix"></div>
</header>
    <div class="content">




  
    <article class="post">
  <header>
    
      <div class="icon"></div>
      <a href="/2015/11/14/iOS-摘要/">
  <time datetime="2015-11-13T16:00:56.000Z">
    2015-11-14
  </time>
</a>
    
    
  
    <h1 class="title"><a href="/2015/11/14/iOS-摘要/">iOS 摘要</a></h1>
  

  </header>
  
  <div class="entry">
    
      <h1 id="plist">plist</h1><ul>
<li><p>读取plist文件并转化为NSDictionary</p>
  <figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">NSString</span> *documentsPath = [<span class="keyword">self</span> getDocumentsDirectory];</span><br><span class="line"><span class="built_in">NSString</span> *fullPath = [documentsPath stringByAppendingPathComponent:<span class="string">@"save.plist"</span>];</span><br><span class="line"><span class="built_in">NSMutableDictionary</span>* plistDict = [[<span class="built_in">NSMutableDictionary</span> alloc] initWithContentsOfFile:fullPath];</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h1 id="openUrl">openUrl</h1><ul>
<li><p>利用Safari打开一个链接</p>
  <figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">NSURL</span> *url = [<span class="built_in">NSURL</span> URLWithString:<span class="string">@"http://www.cnblogs.com/tracy-e/"</span>];</span><br><span class="line">[[<span class="built_in">UIApplication</span> sharedApplication] openURL:url];</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h1 id="UIImage">UIImage</h1><ul>
<li><p>从文件获取图片</p>
  <figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">NSString</span> *thumbnailFile = [<span class="built_in">NSString</span> stringWithFormat:<span class="string">@"%@/%@.png"</span>, [[<span class="built_in">NSBundle</span> mainBundle] resourcePath], fileName];</span><br><span class="line"><span class="built_in">UIImage</span> *thumbnail = [<span class="built_in">UIImage</span> imageWithContentsOfFile:thumbnailFile];</span><br><span class="line"><span class="built_in">UIImage</span> *image = [[<span class="built_in">UIImage</span> alloc] initWithContentsOfFile:filePath];</span><br></pre></td></tr></table></figure>
</li>
</ul>
<ul>
<li><p>生成纯色图</p>
 <figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">CGSize</span> imageSize = <span class="built_in">CGSizeMake</span>(<span class="number">100</span>, <span class="number">100</span>);  </span><br><span class="line"><span class="built_in">UIGraphicsBeginImageContextWithOptions</span>(imageSize, <span class="number">0</span>, [<span class="built_in">UIScreen</span> mainScreen]<span class="variable">.scale</span>);  </span><br><span class="line">[[<span class="built_in">UIColor</span> colorWithRed:<span class="number">0</span> green:<span class="number">0</span> blue:<span class="number">0</span> alpha:<span class="number">1.0</span>] set];  </span><br><span class="line"><span class="built_in">UIRectFill</span>(<span class="built_in">CGRectMake</span>(<span class="number">0</span>, <span class="number">0</span>, imageSize<span class="variable">.width</span>, imageSize<span class="variable">.height</span>));  </span><br><span class="line"><span class="built_in">UIImage</span> *pressedColorImg = <span class="built_in">UIGraphicsGetImageFromCurrentImageContext</span>();  </span><br><span class="line"><span class="built_in">UIGraphicsEndImageContext</span>();</span><br></pre></td></tr></table></figure>
</li>
<li><p>图片合成</p>
  <figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">- (<span class="built_in">UIImage</span> *)addImage:(<span class="built_in">UIImage</span> *)image1 toImage:(<span class="built_in">UIImage</span> *)image2 &#123;  </span><br><span class="line">    <span class="built_in">UIGraphicsBeginImageContext</span>(image1<span class="variable">.size</span>);  </span><br><span class="line">    [image1 drawInRect:<span class="built_in">CGRectMake</span>(<span class="number">0</span>, <span class="number">0</span>, image1<span class="variable">.size</span><span class="variable">.width</span>, image1<span class="variable">.size</span><span class="variable">.height</span>)];  </span><br><span class="line">    [image2 drawInRect:<span class="built_in">CGRectMake</span>(<span class="number">0</span>, <span class="number">0</span>, image2<span class="variable">.size</span><span class="variable">.width</span>, image2<span class="variable">.size</span><span class="variable">.height</span>)];  </span><br><span class="line">    <span class="built_in">UIImage</span> *resultingImage = <span class="built_in">UIGraphicsGetImageFromCurrentImageContext</span>();  </span><br><span class="line">    <span class="built_in">UIGraphicsEndImageContext</span>();  </span><br><span class="line">    <span class="keyword">return</span> resultingImage;  </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>截取部分UIImage</p>
  <figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">-(<span class="built_in">UIImage</span> *)clipImageFromImage:(<span class="built_in">UIImage</span> *)orgImage  Rect:(<span class="built_in">CGRect</span>)clipRect&#123;  </span><br><span class="line">    <span class="built_in">CGImageRef</span> imageRef = orgImage<span class="variable">.CGImage</span>;  </span><br><span class="line">    <span class="built_in">CGImageRef</span> subImageRef = <span class="built_in">CGImageCreateWithImageInRect</span>(imageRef, clipRect);  </span><br><span class="line">    <span class="built_in">CGSize</span> size;  </span><br><span class="line">    size = clipRect<span class="variable">.size</span>;  </span><br><span class="line">    <span class="built_in">UIGraphicsBeginImageContext</span>(size);  </span><br><span class="line">    <span class="built_in">CGContextRef</span> context = <span class="built_in">UIGraphicsGetCurrentContext</span>();  </span><br><span class="line">    <span class="built_in">CGContextDrawImage</span>(context, clipRect, subImageRef);  </span><br><span class="line">    <span class="built_in">UIImage</span>* clipImage = [<span class="built_in">UIImage</span> imageWith<span class="built_in">CGImage</span>:subImageRef];  </span><br><span class="line">    <span class="built_in">CGImageRelease</span>(subImageRef);  </span><br><span class="line">    <span class="built_in">UIGraphicsEndImageContext</span>();  </span><br><span class="line">    <span class="keyword">return</span> clipImage;  </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h1 id="CGRect">CGRect</h1><ul>
<li><p>把CGRect结构转变为格式化字符串</p>
  <figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">NSStringFromCGRect</span>(someCG);</span><br></pre></td></tr></table></figure>
</li>
<li><p>由字符串恢复出矩形</p>
  <figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">CGRectFromString</span>(aString)</span><br></pre></td></tr></table></figure>
</li>
<li><p>隐藏状态栏</p>
  <figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[[<span class="built_in">UIApplication</span> shareApplication] setStatusBarHidden: <span class="literal">YES</span> animated:<span class="literal">NO</span>];</span><br></pre></td></tr></table></figure>
</li>
<li><p>圆角按钮</p>
  <figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">UIButton</span> *scaleUpButton = [<span class="built_in">UIButton</span> buttonWithType:<span class="built_in">UIButtonTypeRoundedRect</span>];</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h1 id="AVAudioPlayer">AVAudioPlayer</h1><ul>
<li><p>播放音效</p>
  <figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">NSString</span> *musicFilePath = [[<span class="built_in">NSBundle</span> mainBundle] pathForResource:fileName ofType:<span class="string">@"wav"</span>];       <span class="comment">// 创建音乐文件路径</span></span><br><span class="line"><span class="built_in">NSURL</span> *musicURL = [[<span class="built_in">NSURL</span> alloc] initFileURLWithPath:musicFilePath]; </span><br><span class="line"><span class="built_in">AVAudioPlayer</span>* musicPlayer = [[<span class="built_in">AVAudioPlayer</span> alloc] initWithContentsOfURL:musicURL error:<span class="literal">nil</span>];</span><br><span class="line">[musicPlayer prepareToPlay];</span><br><span class="line">[musicPlayer setVolume:<span class="number">1</span>];          <span class="comment">// 设置音量大小</span></span><br><span class="line">musicPlayer <span class="variable">.numberOfLoops</span> = -<span class="number">1</span>;    <span class="comment">// 设置音乐播放次数  -1为一直循环</span></span><br></pre></td></tr></table></figure>
</li>
</ul>
<h1 id="UIWebview">UIWebview</h1><ul>
<li><p>UIWebview打开doc,pdf文件</p>
  <figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">UIWebView</span> *webView = [[<span class="built_in">UIWebView</span> alloc]initWithFrame:<span class="built_in">CGRectMake</span>(<span class="number">0</span>, <span class="number">55</span>, <span class="number">320</span>, <span class="number">300</span>)];</span><br><span class="line">webView<span class="variable">.delegate</span> = <span class="keyword">self</span>;</span><br><span class="line">webView<span class="variable">.multipleTouchEnabled</span> = <span class="literal">YES</span>;</span><br><span class="line">webView<span class="variable">.scalesPageToFit</span> = <span class="literal">YES</span>;</span><br><span class="line"><span class="built_in">NSArray</span> *paths = <span class="built_in">NSSearchPathForDirectoriesInDomains</span>(<span class="built_in">NSDocumentDirectory</span>, <span class="built_in">NSUserDomainMask</span>, <span class="literal">YES</span>);</span><br><span class="line"><span class="built_in">NSString</span> *documentsDirectory = [paths objectAtIndex:<span class="number">0</span>];</span><br><span class="line"><span class="built_in">NSString</span> *docPath = [documentsDirectory stringByAppendingString:<span class="string">@"/doc2003_1.doc"</span>];    </span><br><span class="line"><span class="built_in">NSLog</span>(<span class="string">@"#######%@"</span>,docPath);</span><br><span class="line"><span class="built_in">NSURL</span> *url = [<span class="built_in">NSURL</span> fileURLWithPath:docPath];</span><br><span class="line"><span class="built_in">NSURLRequest</span> *request = [<span class="built_in">NSURLRequest</span> requestWithURL:url];</span><br><span class="line">[webView loadRequest:request];</span><br><span class="line">[<span class="keyword">self</span><span class="variable">.view</span> addSubview:webView];</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h1 id="auto_layout">auto layout</h1><ul>
<li><p>代码定义constraints时，需要设置translatesAutoresizingMaskIntoConstraints为YES。</p>
  <figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">-setTranslatesAutoresizingMaskIntoConstraints:</span><br></pre></td></tr></table></figure>
<p>  Sets whether the view’s autoresizing mask should be translated into constraints for the constraint-based layout system.</p>
<p>  Because the autoresizing mask naturally gives rise to constraints that fully specify a view’s position, any view that you wish to apply more flexible constraints to must be set to ignore its autoresizing mask using this method. You should call this method yourself for programmatically created views. Views created using a tool that allows setting constraints should have this set already.</p>
</li>
</ul>

    
  </div>
  <footer class="end-sep">
    
      
      
    
    <div class="clearfix"></div>
  </footer>
</article>



  
    <article class="post">
  <header>
    
      <div class="icon"></div>
      <a href="/2015/11/13/hello-world/">
  <time datetime="2015-11-13T15:54:20.000Z">
    2015-11-13
  </time>
</a>
    
    
  
    <h1 class="title"><a href="/2015/11/13/hello-world/">Hello World</a></h1>
  

  </header>
  
  <div class="entry">
    
      <p>Welcome to <a href="http://hexo.io/" target="_blank" rel="external">Hexo</a>! This is your very first post. Check <a href="http://hexo.io/docs/" target="_blank" rel="external">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href="http://hexo.io/docs/troubleshooting.html" target="_blank" rel="external">troubleshooting</a> or you can ask me on <a href="https://github.com/hexojs/hexo/issues" target="_blank" rel="external">GitHub</a>.</p>
<h2 id="Quick_Start">Quick Start</h2><h3 id="Create_a_new_post">Create a new post</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo new <span class="string">"My New Post"</span></span><br></pre></td></tr></table></figure>
<p>More info: <a href="http://hexo.io/docs/writing.html" target="_blank" rel="external">Writing</a></p>
<h3 id="Run_server">Run server</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo server</span><br></pre></td></tr></table></figure>
<p>More info: <a href="http://hexo.io/docs/server.html" target="_blank" rel="external">Server</a></p>
<h3 id="Generate_static_files">Generate static files</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo generate</span><br></pre></td></tr></table></figure>
<p>More info: <a href="http://hexo.io/docs/generating.html" target="_blank" rel="external">Generating</a></p>
<h3 id="Deploy_to_remote_sites">Deploy to remote sites</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo deploy</span><br></pre></td></tr></table></figure>
<p>More info: <a href="http://hexo.io/docs/deployment.html" target="_blank" rel="external">Deployment</a></p>

    
  </div>
  <footer class="end-sep">
    
      
      
    
    <div class="clearfix"></div>
  </footer>
</article>



  

  <nav id="pagination">
  
  
  <div class="clearfix"></div>
</nav>

</div>
  </div>
  <footer id="footer"><div class="copyright">
  
  &copy; 2015 <a href="/">Jayi</a>
  
</div>
<div class="theme-copyright">
  Theme by <a href="https://github.com/orderedlist" target="_blank">orderedlist</a>
   | 
  Redesign by <a href="http://heroicyang.com/" target="_blank">Heroic Yang</a>
</div>
<div class="clearfix"></div></footer>
  <script src="//ajax.googleapis.com/ajax/libs/jquery/1.8/jquery.min.js"></script>
<script src="/js/scale.fix.js"></script>
<script src="/js/jquery.imagesloaded.min.js"></script>
<script src="/js/gallery.js"></script>


<script type="text/javascript">
  var duoshuoQuery = { short_name: 'jayiist' };
  (function() {
    var ds = document.createElement('script');
    ds.type = 'text/javascript';
    ds.async = true;
    ds.src = 'http://static.duoshuo.com/embed.js';
    ds.charset = 'UTF-8';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(ds);
  })();
</script>



<link rel="stylesheet" href="/fancybox/jquery.fancybox.css" media="screen" type="text/css">
<script src="/fancybox/jquery.fancybox.pack.js"></script>
<script type="text/javascript">
  (function($){
    $('.fancybox').fancybox();
  })(jQuery);
</script>

</body>
</html>